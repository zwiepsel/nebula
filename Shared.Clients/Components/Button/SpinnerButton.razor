@if (Disabled)
{
    <div class="btn btn-@Size btn-@Color fw-@(FontWeight) @(Margins ? "me-2" : "")" disabled="disabled">
        @if (IdleText != null)
        {
            <i class="fal fa-fw fa-@Icon me-2"></i>
            @IdleText
        }
        else
        {
            <i class="fal fa-fw fa-@Icon"></i>
        }
    </div>
}
else if (Loading)
{
    <div class="btn btn-@Size btn-@Color fw-@(FontWeight) @(Margins ? "me-2" : "")" @onclick="@Method" disabled="disabled">
        @if (LoadingText != null)
        {
            <i class="fal fa-fw fa-spin fa-spinner-third me-2"></i>
            @LoadingText
        }
        else
        {
            <i class="fal fa-fw fa-spin fa-spinner-third"></i>
        }
    </div>
}
else
{
    <div class="btn btn-@Size btn-@Color fw-@(FontWeight) @(Margins ? "me-2" : "")" @onclick="@Method" @onclick:preventDefault="true" @onclick:stopPropagation="true">
        @if (IdleText != null)
        {
            <i class="fal fa-fw fa-@Icon me-2"></i>
            @IdleText
        }
        else
        {
            <i class="fal fa-fw fa-@Icon"></i>
        }
    </div>
}

@code
{

    [Parameter]
    public bool Loading { get; set; }

    [Parameter]
    public bool Disabled { get; set; }

    [Parameter]
    public string? LoadingText { get; set; }

    [Parameter]
    public string? IdleText { get; set; }

    [Parameter]
    public string Icon { get; set; } = null!;

    [Parameter]
    public string Color { get; set; } = null!;

    [Parameter]
    public string FontWeight { get; set; } = "bold";

    [Parameter]
    public string? Size { get; set; } = "md";

    [Parameter]
    public bool Margins { get; set; }

    [Parameter]
    public EventCallback Method { get; set; }

}